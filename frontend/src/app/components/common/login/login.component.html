<div class="login-container">

  <h2>{{title}}</h2>

  <ng-container *ngIf="title === 'Login'; then loginTemplate else registerTemplate"></ng-container>

  <svg class="close-dialog" height="24" width="24" (click)="onClose()" viewBox="0 0 24 24" aria-hidden="true" aria-label="" role="img"><path d="m15.18 12 7.16-7.16c.88-.88.88-2.3 0-3.18-.88-.88-2.3-.88-3.18 0L12 8.82 4.84 1.66c-.88-.88-2.3-.88-3.18 0-.88.88-.88 2.3 0 3.18L8.82 12l-7.16 7.16c-.88.88-.88 2.3 0 3.18.44.44 1.01.66 1.59.66.58 0 1.15-.22 1.59-.66L12 15.18l7.16 7.16c.44.44 1.01.66 1.59.66.58 0 1.15-.22 1.59-.66.88-.88.88-2.3 0-3.18L15.18 12z"></path></svg>

  <ng-template #loginTemplate>

    <div class="login-content">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <input type="text" id="username" formControlName="username" placeholder="Enter your email or username" required>
        </div>
        <div class="form-group">
          <input type="password" id="password" formControlName="password" placeholder="Enter your password" required>
        </div>
        <button type="submit" [disabled]="loginForm.invalid">Login</button>
      </form>
      <p>Don't have an account? <a (click)="onModeChange('Register')">Register here</a></p>
    </div>

  </ng-template>

  <ng-template #registerTemplate>

    <div class="login-content">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <input type="text" id="username" formControlName="username" placeholder="Enter your username" required>
        </div>
        <div class="form-group">
          <input type="text" id="email" formControlName="email" placeholder="Enter your email" required>
        </div>
        <div class="form-group">
          <input type="password" id="password" formControlName="password" placeholder="Enter your password" required>
        </div>
        <div class="form-group">
          <input type="password" id="confirmPassword" formControlName="confirmPassword" placeholder="Confirm your password" required>
        </div>
        <button type="submit" [disabled]="loginForm.invalid">Login</button>
      </form>
      <p>Already have an account? <a (click)="onModeChange('Login')">Login here</a></p>
    </div>

  </ng-template>

</div>
